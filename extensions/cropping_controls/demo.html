<!DOCTYPE html>
<html>
<head>
  <title>Cropping Controls</title>
  <style>
    body { font-family: system-ui; padding: 20px; background: #f5f5f5; }
    p { color: #666; margin: 0 0 12px; }
  </style>
</head>
<body>
  <p>Double-click image to toggle crop mode</p>
  <canvas id="c" width="900" height="700"></canvas>

  <script src="https://cdn.jsdelivr.net/npm/fabric@7/dist/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fabric@7/dist-extensions/fabric-extensions.min.js"></script>
  <script>
  const canvas = new fabric.Canvas('c', { backgroundColor: '#eee' });

  fabric.FabricImage.fromURL('https://fabricjs.com/assets/dragon.jpg', { crossOrigin: 'anonymous' })
    .then(img => {
      img.set({
        scaleX: 0.3,
        scaleY: 0.3,
        angle: 10,
        cropX: 90,
        cropY: 150,
        width: 600,
        height: 600,
      });
      img.once('mousedblclick', fabricExtensions.enterCropMode);
      canvas.add(img);
      canvas.centerObject(img);
      canvas.setActiveObject(img);
    });
  </script>
</body>
</html>
